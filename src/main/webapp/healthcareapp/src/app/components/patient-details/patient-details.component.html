<div class="card">
  <div class="row card-header">
    <div class="col-4 fs-4 p-2">
      {{ "Patients Records" | translate }}
    </div>
    <div class="col-sm-6 pt-2 mt-2 text-center" >
      <button (click)="change()" [disabled]="!disable"  style="align-content: center;width: 30%" mat-raised-button color="primary" >
          Edit Details
      </button>
  </div>

    <div *ngIf="!isPatientUpdate" class="alert alert-danger text-center mt-2">
      <div>{{ errorMsg }}</div>
    </div>
  </div>

  <div class="card-body">
    <form #patientForm="ngForm" (ngSubmit)="onSubmit()">
      <div class="container bg-white mt-3">
        <div>
          <mat-tab-group animationDuration="1000ms">
            <mat-tab label="{{ 'identityInformation' | translate }}">
              <div class="bg-light">
                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="abhaID">{{
                        "ABHA ID" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.ABHAID"
                        name="abhaID"
                        id="abhaID"
                        type="text"
                        class="form-control"
                        #abhaId="ngModel"
                        required
                        minlength="12"
                        maxlength="12"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                    <div
                      class="mt-1 alert alert-danger"
                      *ngIf="abhaId.touched && !abhaId.valid"
                    >
                      <div *ngIf="abhaId.errors">ABHA id Invalid</div>
                    </div>
                  </div>
                </div>
              </div>
            </mat-tab>

            <mat-tab label="{{ 'basicInformation' | translate }}">
              <div class="bg-light">
                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="fname">{{
                        "First Name" | translate
                      }}</mat-label>
                      <input [(ngModel)]="patientDetails.fname" name="fname" id="fname" type="text" class="form-control" [disabled]="disable" required matInput>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="lname">{{
                        "Last Name" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.lname"
                        name="lname"
                        id="lname"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                        required
                        matInput
                      />
                    </mat-form-field>
                  </div>
                </div>

                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label style="color: black"
                        >{{'Gender' | translate}}</mat-label
                      >
                      <mat-select
                        class="browser-default custom-select form-control"
                        style="width: 100%"
                        [(ngModel)]="patientDetails.gender"
                        name="gender"
                        id="gender"
                        [disabled]="disable"
                      >
                        <mat-option value="1">{{
                          "Male" | translate
                        }}</mat-option>
                        <mat-option value="2">{{
                          "Female" | translate
                        }}</mat-option>
                        <mat-option value="3">{{
                          "Other" | translate
                        }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="age">{{ "Age" | translate }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.age"
                        name="age"
                        id="age"
                        type="number"
                        class="form-control"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                  </div>
                </div>

                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="language">{{
                        "Language" | translate
                      }}</mat-label>
                      <mat-select
                        [(ngModel)]="patientDetails.lan"
                        name="language"
                        id="language"
                        type="text"
                        [disabled]="disable"
                        class="form-control"
                      >
                        <mat-option value="English">{{
                          "English" | translate
                        }}</mat-option>
                        <mat-option value="Hindi">{{
                          "Hindi" | translate
                        }}</mat-option>
                        <mat-option value="Other">{{
                          "Other" | translate
                        }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="education">{{
                        "Education" | translate
                      }}</mat-label>
                      <mat-select
                        class="browser-default custom-select form-control"
                        style="width: 100%"
                        [(ngModel)]="patientDetails.edu"
                        [disabled]="disable"
                        name="education"
                        id="education"
                      >
                        <mat-option value="None">{{
                          "None" | translate
                        }}</mat-option>
                        <mat-option value="10th">{{
                          "10th" | translate
                        }}</mat-option>
                        <mat-option value="12th">{{
                          "12th" | translate
                        }}</mat-option>
                        <mat-option value="Graduate">{{
                          "Graduate" | translate
                        }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="occupation">{{
                        "Occupation" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.occ"
                        name="occupation"
                        id="occupation"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                  </div>
                  <div class="col-sm-6"></div>
                </div>
              </div>
            </mat-tab>

            <mat-tab label="{{ 'contactInformation' | translate }}">
              <div class="bg-light">
                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="email">{{
                        "Email" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.email"
                        name="email"
                        id="email"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="phone">{{
                        "phoneNumber" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.phone"
                        name="phone"
                        id="phone"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                  </div>
                </div>

                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="addLine1">{{
                        "AddressLine 1" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.addLine1"
                        name="addLine1"
                        id="addLine1"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="addLine2">{{
                        "AddressLine 2" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.addLine2"
                        name="addLine2"
                        id="addLine2"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </mat-tab>

            <mat-tab label="{{ 'caregiverInformation' | translate }}">
              <div class="bg-light">
                <div class="row m-2">
                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="ciname">{{
                        "Caregiver name" | translate
                      }}</mat-label>
                      <input
                        [(ngModel)]="patientDetails.carer_name"
                        name="ciname"
                        id="ciname"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                        matInput
                      />
                    </mat-form-field>
                  </div>

                  <div class="col-sm-6 form-group">
                    <mat-form-field style="width: 100%" appearance="outline">
                      <mat-label for="relationship">{{
                        "Relationship" | translate
                      }}</mat-label>
                      <mat-select
                        [(ngModel)]="patientDetails.carer_rel"
                        name="relationship"
                        id="relationship"
                        type="text"
                        class="form-control"
                        [disabled]="disable"
                      >
                        <mat-option value="Father">{{
                          "Father" | translate
                        }}</mat-option>
                        <mat-option value="Mother">{{
                          "Mother" | translate
                        }}</mat-option>
                        <mat-option value="Brother">{{
                          "Brother" | translate
                        }}</mat-option>
                        <mat-option value="Sister">{{
                          "Sister" | translate
                        }}</mat-option>
                        <mat-option value="Husband">{{
                          "Husband" | translate
                        }}</mat-option>
                        <mat-option value="Wife">{{
                          "Wife" | translate
                        }}</mat-option>
                        <mat-option value="Other">{{
                          "Other" | translate
                        }}</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>

                <div class="row">
                  <div *ngIf="!disable" class="col-sm-12 text-center" >
                    <button type="submit"   style="align-content: center;width: 30%" mat-raised-button color="primary" >
                      Save Changes
                    </button>
                  </div>
                </div>

              </div>
            </mat-tab>

          </mat-tab-group>
        </div>
      </div>
    </form>
  </div>
</div>
